{"ast":null,"code":"import { createAsyncThunk } from \"@reduxjs/toolkit\";\nimport { cartActions } from \"./cartSlice\";\nimport { uiActions } from \"./uiSlice\";\nexport const sendCartData = createAsyncThunk('cart/sendCart', async (cart, {\n  rejectWithValue,\n  dispatch\n}) => {\n  dispatch(uiActions.showNotification({\n    status: \"pending\",\n    title: \"Sending...!\",\n    message: \"Sending cart Data\"\n  }));\n  try {\n    const response = await fetch(\"https://advance-redux-8144d-default-rtdb.firebaseio.com//cart.json\", {\n      method: \"PUT\",\n      body: JSON.stringify({\n        cartItems: cart.cartItems,\n        totalQuantity: cart.totalQuantity\n      })\n    });\n    if (!response.ok) {\n      throw new Error(\"Sending cart data failed!\");\n    }\n    dispatch(uiActions.showNotification({\n      status: \"success\",\n      title: \"Success!\",\n      message: \"Sending cart Data successful!\"\n    }));\n    return cart;\n  } catch (error) {\n    dispatch(uiActions.showNotification({\n      status: \"error\",\n      title: \"Error!\",\n      message: \"Sending cart Data failed!\"\n    }));\n  }\n});\n\n// export const sendCartData = (cart) => {\n//     return async (dispatch) => {\n// dispatch(uiActions.showNotification({\n//     status: \"pending\",\n//     title: \"Sending...!\",\n//     message: \"Sending cart Data\"\n// }))\n//         const sendRequest = async () => {\n// const response = await fetch(\"https://advance-redux-8144d-default-rtdb.firebaseio.com//cart.json\", {\n//     method: \"PUT\",\n//     body: JSON.stringify({\n//         cartItems:cart.cartItems,\n//         totalQuantity:cart.totalQuantity\n//     })\n// })\n// if (!response.ok) {\n//     throw new Error(\"Sending cart data failed!\")\n// }\n//         };\n//         try {\n//             await sendRequest();\n// dispatch(uiActions.showNotification({\n//     status: \"success\",\n//     title: \"Success!\",\n//     message: \"Sending cart Data successful!\"\n// }))\n//         } catch (error) {\n// dispatch(uiActions.showNotification({\n//     status: \"error\",\n//     title: \"Error!\",\n//     message: \"Sending cart Data failed!\"\n// }))\n//         }\n//     }\n// }\n\nexport const fetchCartData = () => {\n  return async dispatch => {\n    const fetchCart = async () => {\n      const response = await fetch(\"https://advance-redux-8144d-default-rtdb.firebaseio.com//cart.json\");\n      if (!response.ok) {\n        throw new Error(\"Fetching data failed!\");\n      }\n      const data = await response.json();\n      return data;\n    };\n    try {\n      const cartData = await fetchCart();\n      dispatch(uiActions.showNotification({\n        status: \"success\",\n        title: \"Success!\",\n        message: \"Sending cart Data successful!\"\n      }));\n      dispatch(cartActions.fetchCart({\n        cartItems: cartData.cartItems || [],\n        totalQuantity: cartData.totalQuantity\n      }));\n    } catch (error) {\n      dispatch(uiActions.showNotification({\n        status: \"error\",\n        title: \"Error!\",\n        message: \"Sending cart Data failed!\"\n      }));\n    }\n  };\n};","map":{"version":3,"names":["createAsyncThunk","cartActions","uiActions","sendCartData","cart","rejectWithValue","dispatch","showNotification","status","title","message","response","fetch","method","body","JSON","stringify","cartItems","totalQuantity","ok","Error","error","fetchCartData","fetchCart","data","json","cartData"],"sources":["/Users/iqra/Downloads/Advanced Redux/01-starting-project/src/store/cart-actions.js"],"sourcesContent":["import { createAsyncThunk } from \"@reduxjs/toolkit\";\nimport { cartActions } from \"./cartSlice\";\nimport { uiActions } from \"./uiSlice\";\n\nexport const sendCartData = createAsyncThunk(\n    'cart/sendCart',\n    async (cart, { rejectWithValue, dispatch }) => {\n        dispatch(uiActions.showNotification({\n            status: \"pending\",\n            title: \"Sending...!\",\n            message: \"Sending cart Data\"\n        }))\n        try {\n            const response = await fetch(\"https://advance-redux-8144d-default-rtdb.firebaseio.com//cart.json\", {\n                method: \"PUT\",\n                body: JSON.stringify({\n                    cartItems: cart.cartItems,\n                    totalQuantity: cart.totalQuantity\n                })\n            })\n            if (!response.ok) {\n                throw new Error(\"Sending cart data failed!\")\n            }\n            dispatch(uiActions.showNotification({\n                status: \"success\",\n                title: \"Success!\",\n                message: \"Sending cart Data successful!\"\n            }))\n\n            return cart\n\n        } catch (error) {\n            dispatch(uiActions.showNotification({\n                status: \"error\",\n                title: \"Error!\",\n                message: \"Sending cart Data failed!\"\n            }))\n\n        }\n\n    }\n)\n\n\n// export const sendCartData = (cart) => {\n//     return async (dispatch) => {\n        // dispatch(uiActions.showNotification({\n        //     status: \"pending\",\n        //     title: \"Sending...!\",\n        //     message: \"Sending cart Data\"\n        // }))\n//         const sendRequest = async () => {\n            // const response = await fetch(\"https://advance-redux-8144d-default-rtdb.firebaseio.com//cart.json\", {\n            //     method: \"PUT\",\n            //     body: JSON.stringify({\n            //         cartItems:cart.cartItems,\n            //         totalQuantity:cart.totalQuantity\n            //     })\n            // })\n            // if (!response.ok) {\n            //     throw new Error(\"Sending cart data failed!\")\n            // }\n//         };\n//         try {\n//             await sendRequest();\n            // dispatch(uiActions.showNotification({\n            //     status: \"success\",\n            //     title: \"Success!\",\n            //     message: \"Sending cart Data successful!\"\n            // }))\n//         } catch (error) {\n            // dispatch(uiActions.showNotification({\n            //     status: \"error\",\n            //     title: \"Error!\",\n            //     message: \"Sending cart Data failed!\"\n            // }))\n//         }\n//     }\n// }\n\nexport const fetchCartData = () => {\n    return async (dispatch) => {\n        const fetchCart = async () => {\n            const response = await fetch(\"https://advance-redux-8144d-default-rtdb.firebaseio.com//cart.json\")\n            if (!response.ok) {\n                throw new Error(\"Fetching data failed!\");\n            }\n            const data = await response.json();\n            return data;\n        }\n        try {\n            const cartData = await fetchCart();\n            dispatch(uiActions.showNotification({\n                status: \"success\",\n                title: \"Success!\",\n                message: \"Sending cart Data successful!\"\n            }))\n            dispatch(cartActions.fetchCart({\n                cartItems:cartData.cartItems||[],\n                totalQuantity:cartData.totalQuantity\n            }));\n\n        } catch (error) {\n            dispatch(uiActions.showNotification({\n                status: \"error\",\n                title: \"Error!\",\n                message: \"Sending cart Data failed!\"\n            }))\n        }\n    }\n}"],"mappings":"AAAA,SAASA,gBAAgB,QAAQ,kBAAkB;AACnD,SAASC,WAAW,QAAQ,aAAa;AACzC,SAASC,SAAS,QAAQ,WAAW;AAErC,OAAO,MAAMC,YAAY,GAAGH,gBAAgB,CACxC,eAAe,EACf,OAAOI,IAAI,EAAE;EAAEC,eAAe;EAAEC;AAAS,CAAC,KAAK;EAC3CA,QAAQ,CAACJ,SAAS,CAACK,gBAAgB,CAAC;IAChCC,MAAM,EAAE,SAAS;IACjBC,KAAK,EAAE,aAAa;IACpBC,OAAO,EAAE;EACb,CAAC,CAAC,CAAC;EACH,IAAI;IACA,MAAMC,QAAQ,GAAG,MAAMC,KAAK,CAAC,oEAAoE,EAAE;MAC/FC,MAAM,EAAE,KAAK;MACbC,IAAI,EAAEC,IAAI,CAACC,SAAS,CAAC;QACjBC,SAAS,EAAEb,IAAI,CAACa,SAAS;QACzBC,aAAa,EAAEd,IAAI,CAACc;MACxB,CAAC;IACL,CAAC,CAAC;IACF,IAAI,CAACP,QAAQ,CAACQ,EAAE,EAAE;MACd,MAAM,IAAIC,KAAK,CAAC,2BAA2B,CAAC;IAChD;IACAd,QAAQ,CAACJ,SAAS,CAACK,gBAAgB,CAAC;MAChCC,MAAM,EAAE,SAAS;MACjBC,KAAK,EAAE,UAAU;MACjBC,OAAO,EAAE;IACb,CAAC,CAAC,CAAC;IAEH,OAAON,IAAI;EAEf,CAAC,CAAC,OAAOiB,KAAK,EAAE;IACZf,QAAQ,CAACJ,SAAS,CAACK,gBAAgB,CAAC;MAChCC,MAAM,EAAE,OAAO;MACfC,KAAK,EAAE,QAAQ;MACfC,OAAO,EAAE;IACb,CAAC,CAAC,CAAC;EAEP;AAEJ,CACJ,CAAC;;AAGD;AACA;AACQ;AACA;AACA;AACA;AACA;AACR;AACY;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACZ;AACA;AACA;AACY;AACA;AACA;AACA;AACA;AACZ;AACY;AACA;AACA;AACA;AACA;AACZ;AACA;AACA;;AAEA,OAAO,MAAMY,aAAa,GAAGA,CAAA,KAAM;EAC/B,OAAO,MAAOhB,QAAQ,IAAK;IACvB,MAAMiB,SAAS,GAAG,MAAAA,CAAA,KAAY;MAC1B,MAAMZ,QAAQ,GAAG,MAAMC,KAAK,CAAC,oEAAoE,CAAC;MAClG,IAAI,CAACD,QAAQ,CAACQ,EAAE,EAAE;QACd,MAAM,IAAIC,KAAK,CAAC,uBAAuB,CAAC;MAC5C;MACA,MAAMI,IAAI,GAAG,MAAMb,QAAQ,CAACc,IAAI,CAAC,CAAC;MAClC,OAAOD,IAAI;IACf,CAAC;IACD,IAAI;MACA,MAAME,QAAQ,GAAG,MAAMH,SAAS,CAAC,CAAC;MAClCjB,QAAQ,CAACJ,SAAS,CAACK,gBAAgB,CAAC;QAChCC,MAAM,EAAE,SAAS;QACjBC,KAAK,EAAE,UAAU;QACjBC,OAAO,EAAE;MACb,CAAC,CAAC,CAAC;MACHJ,QAAQ,CAACL,WAAW,CAACsB,SAAS,CAAC;QAC3BN,SAAS,EAACS,QAAQ,CAACT,SAAS,IAAE,EAAE;QAChCC,aAAa,EAACQ,QAAQ,CAACR;MAC3B,CAAC,CAAC,CAAC;IAEP,CAAC,CAAC,OAAOG,KAAK,EAAE;MACZf,QAAQ,CAACJ,SAAS,CAACK,gBAAgB,CAAC;QAChCC,MAAM,EAAE,OAAO;QACfC,KAAK,EAAE,QAAQ;QACfC,OAAO,EAAE;MACb,CAAC,CAAC,CAAC;IACP;EACJ,CAAC;AACL,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}